$('#render-target').html("<%= escape_javascript(render partial: 'expression_plots_view')%>");
<%= render partial: 'expression_plots_plotly' %>

// stop spinners
$('#box-plot').data('spinner').stop();
$('#scatter-plot').data('spinner').stop();
$('#reference-plot').data('spinner').stop();

// clear listener and reattach
$(window).off('resizeEnd', false);
$( window ).on('resizeEnd', function() {

	<%= render partial: 'expression_box_layout' %>

	<%= render partial: 'expression_scatter_layout' %>

	<%= render partial: 'static_scatter_layout' %>

	Plotly.newPlot('box-plot', expressionData, expressionLayout);
	Plotly.newPlot('scatter-plot', clusterData, scatterLayout);
	Plotly.newPlot('reference-plot', data, staticLayout, {staticPlot: true});
});